&{
	@include absoluteTopLeft;
	width: 100%;
	height: 100%;

	&.right{
		>.panel{
			right: 0;

			>.panel-button{
				left: -20em;
				
				>.icon{
					@include animation(bouncing-right 2s infinite);
					@extend .icon-next;
				}

				>h3{
					opacity: 0;
				}
			}
		}

		.close-button{
			@include arrow-button( 48px, $blue, transparent, #fff, $blue );
		}

		&.hide-panel{
			>.panel{
				@include translateX(100%);

				>.panel-button{

					>.icon{
						@include animation(bouncing-left 2s infinite);
						@extend .icon-prev;
					}

					>h3{
						opacity: 1;
					}
				}
			}
		}
	}

	&.hide-panel{

		>.panel{
			>.panel-button{
				opacity: 1;
			}

			>.panel-content{
				opacity: 0;
				visibility: hidden;
			}
		}

		>.controls{
			>.share{
				width: 307px;
			}
		}
	}

	>.panel{
		position: absolute;
		top: 0;
		min-width: 450px;
		width: 35%;
		height: 100%;
		padding: 40px 0;
		@include box-sizing(border-box);
		color: $darkgray-ui;
		background-color: #fff;
		opacity: 1;
		z-index: 1;
		@include transition(opacity .5s $easeInOutQuad, transform .5s $easeInOutQuad);

		>.panel-button{
			position: absolute;
			width: 16em;
			text-align: right;
			top: 50%;
			color: #fff;
			opacity: .25;
			@include transition(opacity .5s, transform .5s $easeInOutCubic);

			>.icon{
				display: inline-block;
				@include arrow-button( 4.5em, #fff, transparent, #fff, $blue );
				border-color: transparent;
			}

			>h3{
				line-height: 1.25;
				padding-top: .8em;
				font-size: 1.8em;
				color: rgba(#fff, .35);
				@include single-transition(opacity, .5s);
			}
		}

		>.panel-content{
			position: absolute;
			width: 100%;
			top: 15%;
			height: 85%;
			visibility: visible;
			opacity: 1;
			@include transition(opacity .5s $easeInOutQuad, visibility .5s);

			b{
				color: $blue;
			}
		}

		h1{
			display: block;
			width: 80%;
			max-width: 500px;
			font-size: 4em;
			line-height: 1.1;
			margin: 0 auto;
			text-align: center;
			text-transform: uppercase;
			font-family: $font_marine;
			font-weight: bold;
			color: $darkgray-ui;

			&:before{
				content: "The";
				display: block;
				font-size: (2.4em/4);
				text-transform: uppercase;
				font-family: $font_marine;
				font-weight: lighter;
			}

			&:after{
				content: "";
				margin: .5em auto 0 auto;
				display: block;
				width: 33px;
				height: 1px;
				background-color: $lightgray-ui;
			}
		}

		h2{
			font-size: 1.8em;
			line-height: 2;
			color: $lightgray-ui;
			text-transform: uppercase;
		}

		h3{
			font-size: 1.8em;
			font-family: $font_marineup_bold;
			text-transform: uppercase;
		}

		p{
			font-size: 1.7em;
			padding: 1em 0;
			-webkit-font-smoothing: antialiased;

			br{
				line-height: 3;
			}
		}

		ul{
			padding: 2em 0;
		}

		&.animate-in{
			.content{
				>h1{
					@include animation( fade-in-left .85s .25s both $easeOutCubic );
				}
			}
		}

		.content{
			width: 100%;
			height: 100%;

			>.scroller{
				position: absolute;
				top: 0;
				padding-top: 13em;
				width: 100%;
				height: 100%;
				overflow: hidden;
				@include box-sizing(border-box);

				>.scroller-inner{
					position: relative;
					height: 100%;
					white-space: nowrap;

					>section{
						position: relative;
						display: inline-block;
						vertical-align: top;
						width: 100%;
						height: 100%;
						@include box-sizing(border-box);
						white-space: normal;

						&:after{
							content: "";
							position: absolute;
							bottom: 0;
							display: block;
							width: 100%;
							height: 50px;
							@include background-image(linear-gradient(to top, rgba(#fff,1) 0%, rgba(#fff,0) 100%));
						}

						&.animate-in{
							&.problem, &.hint{
								p{
									@include animation( fade-in-left .75s .35s both $easeOutCubic );
								}

								button{
									@include animation( fade-in-left .65s .45s both $easeOutCubic );
								}
							}

							&.advice{
								h3{
									@include animation( fade-in-left .75s .35s both $easeOutCubic );
								}

								p{
									@include animation( fade-in-left .65s .45s both $easeOutCubic );
								}
							}
						}

						&.animate-out{
						}

						>.inner{
							margin: 0 auto;
							padding-top: 2em;
							@include box-sizing(border-box);
							width: 80%;
							height: 100%;
							max-width: 500px;
							overflow: hidden;

							>.inner-scroller{
								width: 100%;
								height: 100%;
								padding-right: 50px;
								overflow: auto;
								@include box-sizing(content-box);
							}
						}

						>.scrollbar{
							z-index: 1;
						}
					}
				}

				.primary-button{
					margin: 2em auto 0 auto;
				}
			}
		}
	}

	>.controls{
		position: absolute;
		z-index: 10;
		top: 0;
		right: 0;
		width: 35%;
		min-width: 450px;
		padding: 40px;
		@include box-sizing(border-box);
		opacity: 1;
		visibility: visible;
		@include transition(opacity .5s, visibility .5s);
		
		&.hidden{
			opacity: 0;
			visibility: hidden;
		}

		>.share{
			position: absolute;
			top: 0;
			right: 0;
			width: 100%;
			padding: 40px;
			@include box-sizing(border-box);
			@include transition(width .5s $easeInOutSine);

			>li{
				display: inline-block;
				vertical-align: top;
				margin: 0 5px;

				>a{
					display: inline-block;
					vertical-align: top;
					@extend %round-social-button;
					font-size: 22px;
				}
			}
		}

		>.close-button{
			position: relative;
			z-index: 1;
			float: right;
		}
	}

	/* common */
	.item-button{
		width: 100px;
		height: 100px;
		@include border-radius(50%);
		background-color: #fff;
		opacity: .3;
		@include transition(opacity .2s);

		&:hover{
			opacity: .5;
		}

		&.active{
			opacity: 1;
		}
	}

	.info{
		margin-top: 2em;
		border-top: 2px solid rgba(0,0,0,0.05);

		li{
			display: none;

			&.active{
				display: block;
			}
		}
	}

	// media-queries
	@media screen and (max-width: 1300px) {
   		font-size: .9em;
   	}

	@media screen and (max-width: 1024px) {
   		font-size: .8em;
   	}
}

@import "captions/change-color";
@import "captions/change-picture";
@import "captions/change-object";
@import "captions/drop-fruits";