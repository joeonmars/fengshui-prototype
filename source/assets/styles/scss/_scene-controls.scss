@mixin roundButton($size, $border_size:5px){
	position: relative;
	width: $size;
	height: $size;
	background-color: rgba(255, 255, 255, .5);
	@include border-radius(50%);

	&:hover{
		>.outline{
			@include scale(1);
			opacity: 1;
		}
	}

	>.outline{
		position: absolute;
		top: 0;
		left: 0;
		width: $size;
		height: $size;
		border: $border_size solid $green;
		@include border-radius(50%);
		@include box-sizing(border-box);
		@include transition(transform .2s ease-in-out, opacity .35s ease-in-out);
		@include scale(0.95);
		opacity: 0;
	}

	>.circle{
		position: absolute;
		top: $border_size;
		left: $border_size;
		width: $size - $border_size * 2;
		height: $size - $border_size * 2;
		background-color: #fff;
		overflow: hidden;
		@include border-radius(50%);
		@include single-box-shadow(rgba(0, 0, 0, .14), 1px, 1px, 2px);
	}
}

>.compass{
	$circle_size: 100px;
	$cube_size: 80px;
	$border_size: 5px;

	@include absoluteTopLeft;

	>.roundButton{
		@include roundButton( $circle_size, $border_size );
	}

	&.grabbing{
		.outline{
			@include scale(1);
			opacity: 1;
		}
	}

	&.design{
		.cube{
			.design{
				opacity: 1 !important;
			}
		}
	}

	.cube{
		position: absolute;
		width: $cube_size;
		height: $cube_size;
		left: ($circle_size - $border_size * 2 - $cube_size) / 2;
		top: ($circle_size - $border_size * 2 - $cube_size) / 2;
		@include border-radius(50%);
		overflow: hidden;

		>div{
			@include absoluteTopLeft;

			>div{
				@include absoluteTopLeft;

				&.design{
					opacity: 0;
					@include single-transition( opacity, .5s );
				}
			}
		}
	}
}

>.book{
	$circle_size: 100px;
	$book_size: 80px;
	$border_size: 5px;

	@include absoluteTopLeft;

	>.roundButton{
		cursor: pointer;
		@include roundButton( $circle_size, $border_size );
	}

	.icon{
		position: absolute;
		width: $book_size;
		height: $book_size;
		left: ($circle_size - $border_size * 2 - $book_size) / 2;
		top: ($circle_size - $border_size * 2 - $book_size) / 2;
	}
}

>.reminder{
	$circle_size: 100px;
	$border_size: 5px;

	@include absoluteTopLeft;

	&.active{
		>.avatar{
			>.roundButton{
				>.outline{
					@include scale(1);
					opacity: 1;
				}
			}
		}
	}

	>.avatar{
		>.roundButton{
			cursor: pointer;
			@include roundButton( $circle_size, $border_size );
		}
	}

	>.dialogue{
		position: absolute;
		top: -130px;
		height: 120px;
		background-color: $cream;
		@include single-box-shadow(rgba(0, 0, 0, .14), 0px, 1px, 2px);

		&.hint{
			left: -400px + $circle_size;
			width: 400px;

			.paragraph{
				border-left: 1px solid $brown;
				border-right: 1px solid $brown;
			}
		}

		&.response{
			left: -308px + $circle_size;
			width: 308px;
		}

		.title{
			position: relative;
			height: 14px;
			margin: 14px 0 12px 16px;
			@include box-sizing(border-box);

			>li{
				@include absoluteTopLeft;
				color: $green;
				font-family: $font_marineup;
				letter-spacing: 2px;
				font-size: 14px;
				text-transform: uppercase;
			}
		}

		.paragraph{
			position: relative;
			width: 100%;
			height: 60px;
			@include box-sizing(border-box);

			>li{
				@include absoluteTopLeft;
				padding: 0 14px;
				color: $gray;
				font-size: 14px;
				line-height: 18px;
				font-family: $font_marine;
			}
		}

		>div{
			display: inline-block;
			vertical-align: top;
			height: 100%;

			&.left{
				width: 46px;
				text-align: center;

				>button{
					display: inline-block;
					margin-top: 60px;
					@include retina-icon("dialogue-arrow-left");
					@include transition(opacity .25s, transform .1s);

					&:hover{
						opacity: .8;
					}

					&:active{
						opacity: .4;
						@include scale(.8);
					}
				}
			}

			&.middle{
				width: 308px;
			}

			&.right{
				width: 46px;
				text-align: center;

				>button{
					display: inline-block;
					margin-top: 60px;
					@include retina-icon("dialogue-arrow-right");
					@include transition(opacity .25s, transform .1s);
					
					&:hover{
						opacity: .8;
					}

					&:active{
						opacity: .4;
						@include scale(.8);
					}
				}
			}
		}
	}
}

>.manipulator{
	position: absolute;

	>ul{
		white-space: nowrap;

		>li{
			display: inline-block;
			margin: 10px;
			@extend .button;

			&:after{
				display: block;
				color: red;
				font-size: 30px;
				line-height: 50px;
				width: 50px;
				height: 50px;
				background: #ddd;
			}

			&.move{
				@include font-awesome("fa-arrows");
			}

			&.rotate{
				@include font-awesome("fa-refresh");
			}

			&.place{
				@include font-awesome("fa-exchange");
			}

			&.change_accessory{
				@include font-awesome("fa-coffee");
			}

			&.close{
				@include font-awesome("fa-times-circle");
			}
		}
	}
}

>.objectSelector{
	position: absolute;
	margin-left: -28px;
	margin-top: -28px;
	@include retina-ui("circle-dot");
	overflow: visible;

	>.fill{
		position: relative;
		left: -2px;
		top: -2px;
	}
}

>.objectBox{
	position: absolute;
	width: 0;
	height: 0;

	>.dot{
		position: absolute;
		margin-left: -8px;
		margin-top: -8px;

		>.icon{
			@include retina-icon("objectboxdot");
		}
	}
}

>.progressBar{
	position: absolute;
	padding: 14px 50px;
	@include border-radius(8px);
	background-color: rgba(255, 255, 255, .67);

	>.inner{
		position: relative;

		>.wave{
			position: relative;

			>canvas{
				@include absoluteTopLeft;
			}
		}

		>.tips{
			@include absoluteTopLeft;
			z-index: 1;

			>li{
				position: absolute;
				width: 26px;
				height: 26px;
				margin: -13px;

				>.dot{
					position: absolute;
					@include border-radius(50%);
					top: (26px - 10px) / 2;
					left: (26px - 10px) / 2;
					width: 10px;
					height: 10px;
					background: #888;
				}

				>.outline{
					@include absoluteTopLeft;
				}
			}
		}
	}
}