>.compass{
	$circle_size: 100px;
	$cube_size: 80px;
	$border_size: 5px;

	@include absoluteTopLeft;

	>.roundButton{
		@include roundButton( $circle_size, $border_size );
	}

	&.grabbing{
		.outline{
			@include scale(1);
			opacity: 1;
		}
	}

	&.design{
		.cube{
			.design{
				opacity: 1 !important;
			}
		}
	}

	.cube{
		position: absolute;
		width: $cube_size;
		height: $cube_size;
		left: ($circle_size - $border_size * 2 - $cube_size) / 2;
		top: ($circle_size - $border_size * 2 - $cube_size) / 2;
		@include border-radius(50%);
		overflow: hidden;

		>div{
			@include absoluteTopLeft;

			>div{
				@include absoluteTopLeft;

				&.design{
					opacity: 0;
					@include single-transition( opacity, .5s );
				}
			}
		}
	}
}

>.book{
	$circle_size: 100px;
	$book_size: 80px;
	$border_size: 5px;

	@include absoluteTopLeft;

	>.roundButton{
		@include roundButton( $circle_size, $border_size );
	}

	.icon{
		position: absolute;
		width: $book_size;
		height: $book_size;
		left: ($circle_size - $border_size * 2 - $book_size) / 2;
		top: ($circle_size - $border_size * 2 - $book_size) / 2;
	}
}

>.reminder{
	$circle_size: 100px;
	$border_size: 5px;
	@include absoluteTopLeft;

	&.active{
		>.character{
			>.roundButton{
				>.outline{
					@include scale(1);
					opacity: 1;
				}
			}
		}

		>.dialogue{
			@include animation( reminder-popup 1000ms linear both );
		}
	}

	>.character{
		>.roundButton{
			@include roundButton( $circle_size, $border_size );

			canvas{
				width: 100%;
				height: 100%;
			}
		}
	}

	>.dialogue{
		position: absolute;
		top: -130px;
		height: 120px;
		background-color: $cream;
		@include single-box-shadow(0px, 1px, 2px, 0px, rgba(0, 0, 0, .14));
		@include animation( fade-out .25s ease-in-out both, reminder-drop .25s ease-in-out );

		&.hint{
			left: -400px + $circle_size;
			width: 400px;

			.paragraph{
				border-left: 1px solid $brown;
				border-right: 1px solid $brown;
			}
		}

		&.response{
			left: -308px + $circle_size;
			width: 308px;
		}

		.title{
			position: relative;
			height: 14px;
			margin: 14px 0 12px 16px;
			@include box-sizing(border-box);

			>li{
				@include absoluteTopLeft;
				color: $darkblue;
				font-family: $font_marineup;
				letter-spacing: 2px;
				font-size: 14px;
				text-transform: uppercase;
			}
		}

		.paragraph{
			position: relative;
			width: 100%;
			height: 60px;
			@include box-sizing(border-box);

			>li{
				@include absoluteTopLeft;
				padding: 0 14px;
				color: $gray;
				font-size: 14px;
				line-height: 18px;
				font-family: $font_marine;
			}
		}

		>div{
			display: inline-block;
			vertical-align: top;
			height: 100%;

			&.left{
				width: 46px;
				text-align: center;

				>button{
					display: inline-block;
					margin-top: 60px;
					@include retina-icon("dialogue-arrow-left");
					@include transition(opacity .25s, transform .1s);

					&:hover{
						opacity: .8;
					}

					&:active{
						opacity: .4;
						@include scale(.8);
					}
				}
			}

			&.middle{
				width: 308px;
			}

			&.right{
				width: 46px;
				text-align: center;

				>button{
					display: inline-block;
					margin-top: 60px;
					@include retina-icon("dialogue-arrow-right");
					@include transition(opacity .25s, transform .1s);
					
					&:hover{
						opacity: .8;
					}

					&:active{
						opacity: .4;
						@include scale(.8);
					}
				}
			}
		}
	}
}

>.manipulator{
	position: absolute;

	>ul{
		white-space: nowrap;

		>li{
			display: inline-block;
			margin: 10px;

			&:after{
				display: block;
				color: red;
				font-size: 30px;
				line-height: 50px;
				width: 50px;
				height: 50px;
				background: #ddd;
			}

			&.move{
				@include font-awesome("fa-arrows");
			}

			&.rotate{
				@include font-awesome("fa-refresh");
			}

			&.place{
				@include font-awesome("fa-exchange");
			}

			&.change_accessory{
				@include font-awesome("fa-coffee");
			}

			&.close{
				@include font-awesome("fa-times-circle");
			}
		}
	}
}

>.objectSelector{
	position: absolute;
	margin-left: -28px;
	margin-top: -28px;
	@include retina-ui("circle-dot");
	overflow: visible;

	>.fill{
		position: relative;
		left: -2px;
		top: -2px;
	}
}

>.dropButton{
	position: absolute;
	margin: -60px;
	width: 120px;
	height: 120px;
	background: #fff;
	@include border-radius(50%);

	&.fadeIn{
		@include animation(fade-in-drop .4s forwards $easeOutExpo);
	}

	&.fadeOut{
		@include animation(fade-out-drop .4s forwards $easeOutExpo);
	}
}

>.progressBar{
	position: absolute;
	padding: 14px 50px;

	>.inner{
		position: relative;

		>.wave{
			position: relative;

			>canvas{
				@include absoluteTopLeft;
			}
		}

		>.tips{
			@include absoluteTopLeft;
			z-index: 1;

			>li{
				position: absolute;

				&.nearby{
					>.dot{
						>.inner{
							background: #00FF00;
						}
					}
				}

				>.dot{
					position: relative;
					margin: -20px;
					width: 40px;
					height: 40px;

					>.inner{
						position: absolute;
						top: (40px - 12px) / 2;
						left: (40px - 12px) / 2;
						width: 12px;
						height: 12px;
						background: #fff;
						@include border-radius(50%);
						@include single-box-shadow(1px, 1px, 2px, 0px, rgba(0, 0, 0, .14));
					}

					>.outer{
						position: absolute;
						top: (40px - 22px) / 2;
						left: (40px - 22px) / 2;
						width: 22px;
						height: 22px;
						background-color: $darkblue;
						@include border-radius(50%);
						opacity: 0;
						@include scale(0);
						@include transition(transform .25s, opacity .25s);
					}
				}

				>.dialog{
					position: absolute;
					top: -145px;
					left: -54px;
					width: 108px;
					height: 120px;
					opacity: 0;
					visibility: hidden;
					@include translateY(20px);
					@include transition( opacity .25s $easeInOutCubic, transform .25s $easeInOutCubic, visibility .3s );
					@include popup( $padding: 20px 14px, $color: $brown );

					>.content{
						>.icon{
							width: 100%;
							height: 50px;
							text-align: center;
							font-size: 50px;
							color: $brown;
						}

						>a{
							&:before{
								content: "";
								display: block;
								margin: 10px auto;
								width: 100%;
								height: 1px;
								background-color: $brown;
								opacity: .25;
							}

							>.icon{
								@include font-awesome("fa-angle-right");
								margin-right: 3px;
							}

							&:hover{
								color: $darkblue;
							}

							display: block;
							width: 100%;
							text-align: center;
							font-size: 16px;
							letter-spacing: 1px;
							color: $brown;
							@include single-transition(color, .25s);
						}
					}

					&:after{
						content: "";
						position: absolute;
						top: 120px;
						left: 108px / 2 - 5px;
						width: 0;
						height: 0;
						border-style: solid;
						border-width: 8px 5px 0 5px;
						border-color: $cream transparent transparent transparent;
					}

					&:hover{
						visibility: visible;
						opacity: 1;
						@include translateY(0px);
					}
				}

				&:hover{

					>.dot{
						>.outer{
							opacity: 1;
							@include scale(1);
						}
					}

					>.dialog{
						visibility: visible;
						opacity: 1;
						@include translateY(0px);
					}
				}

			}
		}
	}
}